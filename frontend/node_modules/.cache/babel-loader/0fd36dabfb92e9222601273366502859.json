{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/davidgonzalez/Downloads/ReadyCar/frontend/src/Fleet/pages/FleetSearchPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef, Fragment } from 'react';\nimport axios from '../../axios';\nimport gsap from 'gsap';\nimport { useParams } from 'react-router-dom';\nimport PreLoader from '../../shared/components/PreLoader/PreLoader';\nimport Layout from '../../shared/components/Layout/Layout';\nimport FleetList from '../components/FleetList';\nimport Pagination from '../../shared/components/Pagination/Pagination';\n\nconst FleetSearchPage = () => {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [searched, setSearched] = useState([]);\n  const [currentPage, setCurrenPage] = useState(1);\n  const itemsPerPage = 6;\n  let tl = useRef();\n  let searchTitle = useRef(null);\n  const name = useParams().name;\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n  const currentItems = searched.slice(indexOfFirstItem, indexOfLastItem);\n  useEffect(() => {\n    tl.current = gsap.timeline();\n    tl.current.from(searchTitle, 1, {\n      y: -20,\n      opacity: 0\n    });\n  }, []);\n  useEffect(() => {\n    setIsLoading(true);\n    axios.get(`/fleet/sort/${name}`).then(res => {\n      setIsLoading(false);\n      setSearched(res.data.cars);\n    }).catch(err => {\n      setIsLoading(false);\n      console.log(err);\n    });\n  }, [name]);\n\n  const onPaginationHandler = number => {\n    setCurrenPage(number);\n  };\n\n  let offers;\n\n  if (searched.length) {\n    offers = /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"offer-counter\",\n      children: [\"we have \", searched.length, /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\" \", searched.length === 1 ? 'offer' : 'offers', \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), \"for you\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 18\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title-search\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        ref: el => searchTitle = el,\n        children: \"RENTA EN UN SOLO CLIC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), offers, isLoading ? /*#__PURE__*/_jsxDEV(PreLoader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(FleetList, {\n        fleet: currentItems\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }, this), searched.length > 6 && /*#__PURE__*/_jsxDEV(Pagination, {\n        totalItems: searched.length,\n        itemsPerPage: itemsPerPage,\n        pagination: onPaginationHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FleetSearchPage, \"lr/R7Aqa3ej879j9D98f7qMgCGw=\", false, function () {\n  return [useParams];\n});\n\n_c = FleetSearchPage;\nexport default FleetSearchPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"FleetSearchPage\");","map":{"version":3,"sources":["/Users/davidgonzalez/Downloads/ReadyCar/frontend/src/Fleet/pages/FleetSearchPage.jsx"],"names":["React","useEffect","useState","useRef","Fragment","axios","gsap","useParams","PreLoader","Layout","FleetList","Pagination","FleetSearchPage","isLoading","setIsLoading","searched","setSearched","currentPage","setCurrenPage","itemsPerPage","tl","searchTitle","name","indexOfLastItem","indexOfFirstItem","currentItems","slice","current","timeline","from","y","opacity","get","then","res","data","cars","catch","err","console","log","onPaginationHandler","number","offers","length","el"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef, Fragment } from 'react';\nimport axios from '../../axios';\nimport gsap from 'gsap';\nimport { useParams } from 'react-router-dom';\n\nimport PreLoader from '../../shared/components/PreLoader/PreLoader';\nimport Layout from '../../shared/components/Layout/Layout';\nimport FleetList from '../components/FleetList';\nimport Pagination from '../../shared/components/Pagination/Pagination';\n\nconst FleetSearchPage = () => {\n\n    const [ isLoading, setIsLoading ] = useState(false);\n    const [ searched, setSearched ] = useState([]);\n    const [ currentPage, setCurrenPage ] = useState(1);\n    const itemsPerPage = 6;\n    let tl = useRef();\n    let searchTitle = useRef(null);\n    const name = useParams().name;\n\n    const indexOfLastItem = currentPage * itemsPerPage;\n    const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n    const currentItems = searched.slice(indexOfFirstItem, indexOfLastItem);\n\n    useEffect(() => {\n        tl.current = gsap.timeline();\n        tl.current.from(searchTitle, 1,{y: -20, opacity:0})\n    }, []);\n\n      useEffect(() => {\n        setIsLoading(true)\n        axios.get(`/fleet/sort/${name}`)\n             .then(res => {\n                setIsLoading(false);\n                setSearched(res.data.cars)\n             }).catch(err => {\n                setIsLoading(false);\n                console.log(err)\n             });\n    },[name]);\n\n    const onPaginationHandler = (number) => {\n        setCurrenPage(number);      \n    };\n\n    let offers;\n    if(searched.length){\n        offers = <p className='offer-counter'>we have {searched.length} \n        <span> {searched.length ===  1 ? 'offer' : 'offers'} </span>for you</p>\n    }\n\n\n    return(\n        <Layout>\n            <div className='title-search' >\n                <h1 ref={ el => ( searchTitle = el )}>RENTA EN UN SOLO CLIC</h1>\n                <p className='line'/>\n            </div>\n            {offers}\n            {\n                isLoading \n                ?   <PreLoader /> \n                :   <Fragment>\n                        <FleetList fleet={currentItems} />\n                        { searched.length > 6 && \n                            <Pagination totalItems={searched.length}\n                            itemsPerPage={itemsPerPage}\n                            pagination={onPaginationHandler}/>\n                        }\n                    </Fragment>\n            }   \n        </Layout>\n    )\n\n}\n\nexport default FleetSearchPage"]},"metadata":{},"sourceType":"module"}