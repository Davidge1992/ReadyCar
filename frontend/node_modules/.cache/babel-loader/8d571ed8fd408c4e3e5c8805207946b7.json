{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/davidgonzalez/Documents/GitHub/ReadyCar/frontend/src/Rent/pages/RentPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback, useContext, useRef } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport gsap from 'gsap';\nimport axios from '../../axios';\nimport PreLoader from '../../shared/components/PreLoader/PreLoader';\nimport RentForm from '../components/RentForm';\nimport Layout from '../../shared/components/Layout/Layout';\nimport { AuthContext } from '../../shared/contexts/AuthContext';\nimport { MdDirectionsCar, MdAirlineSeatReclineNormal } from 'react-icons/md';\nimport { GoGear } from 'react-icons/go';\nimport { IoMdSnow } from 'react-icons/io';\n\nconst DetailRentPage = props => {\n  _s();\n\n  const {\n    userId\n  } = useContext(AuthContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selected, setSelected] = useState({});\n  let tl = useRef();\n  let title = useRef(null);\n  let line = useRef(null);\n  const history = useHistory();\n  const carId = useParams().id;\n  useEffect(() => {\n    tl.current = gsap.timeline();\n    tl.current.from(title, 1.5, {\n      scale: 0.5,\n      opacity: 0\n    }).from(line, 2, {\n      width: 0\n    }, 0.5);\n  }, []);\n  useEffect(() => {\n    setIsLoading(true);\n    axios.get(`/fleet/${carId}`).then(res => {\n      setIsLoading(false);\n      setSelected(res.data.car);\n    }).catch(err => {\n      setIsLoading(false);\n      console.log(err);\n    });\n  }, [carId]);\n  const onOrderHandler = useCallback(order => {\n    setIsLoading(true);\n    axios.post('/orders', order, {\n      'Content-Type': 'application/json'\n    }).then(res => {\n      setIsLoading(false);\n      history.push(`/my-orders/${userId}`);\n    }).catch(err => {\n      setIsLoading(false);\n      console.log(err);\n    });\n  }, [history, userId]);\n  let fixedPrice;\n\n  if (selected.price) {\n    fixedPrice = selected.price.toFixed(2);\n  }\n\n  ;\n  let image;\n\n  if (selected.image) {\n    image = `http://localhost:5000/${selected.image}`;\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      ref: el => title = el,\n      className: \"home-title\",\n      children: \"Rent a car, it has never been easier \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      ref: el => line = el,\n      className: \"line\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rent-page-wrapper\",\n      children: [isLoading ? /*#__PURE__*/_jsxDEV(PreLoader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 23\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item-cars\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"name\",\n          children: [selected.name, /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" \", selected.model]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 60\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"options\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"car-type\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(MdDirectionsCar, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 59\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 53\n            }, this), \" \", selected.carType]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"car-type\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(MdAirlineSeatReclineNormal, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 59\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 53\n            }, this), \" \", selected.seats]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"car-type\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(GoGear, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 59\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 53\n            }, this), \" \", selected.gears]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"car-type\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(IoMdSnow, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 59\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 53\n            }, this), \" \", selected.clima ? 'yes' : 'no']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: image,\n          alt: \"car\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"price\",\n          children: [\"Price - \\u20AC \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: fixedPrice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 56\n          }, this), \" /For a Day \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(RentForm, {\n        carId: carId,\n        onOrderHandler: onOrderHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DetailRentPage, \"w6nbu1VXDqzsu3AB0VwHxWZNS44=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = DetailRentPage;\nexport default DetailRentPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailRentPage\");","map":{"version":3,"sources":["/Users/davidgonzalez/Documents/GitHub/ReadyCar/frontend/src/Rent/pages/RentPage.jsx"],"names":["React","useState","useEffect","useCallback","useContext","useRef","useParams","useHistory","gsap","axios","PreLoader","RentForm","Layout","AuthContext","MdDirectionsCar","MdAirlineSeatReclineNormal","GoGear","IoMdSnow","DetailRentPage","props","userId","isLoading","setIsLoading","selected","setSelected","tl","title","line","history","carId","id","current","timeline","from","scale","opacity","width","get","then","res","data","car","catch","err","console","log","onOrderHandler","order","post","push","fixedPrice","price","toFixed","image","el","name","model","carType","seats","gears","clima"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useCallback, useContext, useRef } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport gsap from 'gsap';\nimport axios from '../../axios';\n\nimport PreLoader from '../../shared/components/PreLoader/PreLoader';\nimport RentForm from '../components/RentForm';\nimport Layout from '../../shared/components/Layout/Layout';\nimport { AuthContext } from '../../shared/contexts/AuthContext';\nimport { MdDirectionsCar, MdAirlineSeatReclineNormal } from 'react-icons/md';\nimport { GoGear } from 'react-icons/go';\nimport { IoMdSnow } from 'react-icons/io'\n\nconst DetailRentPage = (props) => {\n\n    const { userId } = useContext(AuthContext);\n    const [ isLoading, setIsLoading ] = useState(false);\n    const [ selected, setSelected ] = useState({});\n    let tl = useRef();\n    let title = useRef(null);\n    let line = useRef(null);\n    const history = useHistory();\n    const carId = useParams().id;\n\n    useEffect(() => {\n        tl.current = gsap.timeline();\n        tl.current.from(title, 1.5,{scale: 0.5, opacity:0})\n                  .from(line, 2, { width: 0 }, 0.5)\n    }, []);\n\n     useEffect(() => {\n        setIsLoading(true)\n        axios.get(`/fleet/${carId}`)\n             .then(res => {\n                setIsLoading(false);\n                setSelected(res.data.car);\n            }).catch(err => {\n                setIsLoading(false);\n                console.log(err);\n            });\n     }, [carId]);\n    \n     const onOrderHandler = useCallback((order) => {\n        setIsLoading(true);\n        axios.post('/orders', order, \n        { 'Content-Type': 'application/json' })\n             .then(res => {\n                setIsLoading(false);\n                history.push(`/my-orders/${userId}`)\n            }).catch(err => {\n                setIsLoading(false);\n                console.log(err);\n            })\n     }, [history, userId]);\n\n    let fixedPrice;\n    if(selected.price){\n        fixedPrice = (selected.price).toFixed(2);\n    };\n\n    let image\n    if(selected.image){\n        image = `http://localhost:5000/${selected.image}`;\n    }\n\n    return(        \n        <Layout>\n            <h1 ref={ el => ( title = el )} className='home-title'>\n                Rent a car, it has never been easier </h1>\n            <p ref={ el => ( line = el )} className='line'/>\n            <div className='rent-page-wrapper'>\n                {\n                    isLoading \n                    ? <PreLoader />\n                    : \n                    <div className='item-cars' >\n                        <p className='name'>{selected.name}<span> {selected.model}</span></p>\n                        <div className='options'>\n                            <p className='car-type'><span><MdDirectionsCar /></span> {selected.carType}</p>\n                            <p className='car-type'><span><MdAirlineSeatReclineNormal /></span> {selected.seats}</p>\n                            <p className='car-type'><span><GoGear /></span> {selected.gears}</p>\n                            <p className='car-type'><span><IoMdSnow /></span> {selected.clima ? 'yes' : 'no'}</p>\n                        </div>  \n                        <img src={image} alt='car'/>                     \n                        <p className='price'>Price - € <span>{fixedPrice}</span> /For a Day </p>\n                    </div>\n                }\n                <RentForm carId={carId}\n                onOrderHandler={onOrderHandler}/>\n            </div>\n        </Layout>\n    )\n}\n\nexport default DetailRentPage;\n"]},"metadata":{},"sourceType":"module"}