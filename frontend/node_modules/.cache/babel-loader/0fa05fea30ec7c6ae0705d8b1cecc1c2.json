{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/davidgonzalez/Documents/GitHub/ReadyCar/frontend/src/User/pages/Auth.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useCallback, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FaRegArrowAltCircleLeft } from 'react-icons/fa';\nimport axios from '../../axios';\nimport Login from '../components/Login';\nimport Register from '../components/Register';\nimport { AuthContext } from '../../shared/contexts/AuthContext';\nimport Layout from '../../shared/components/Layout/Layout';\n\nconst Auth = () => {\n  _s();\n\n  const [toggleState, setToggleState] = useState(false);\n  const {\n    login\n  } = useContext(AuthContext);\n  const [isLoading, setIsLoadin] = useState(false);\n  const history = useHistory(); //Register new user post new user data to db\n\n  const onRegisterHandler = useCallback(user => {\n    setIsLoadin(true);\n    axios.post('/users/register', user, {\n      'Content-Type': 'application/json'\n    }).then(res => {\n      setIsLoadin(false);\n      login(res.data.userId, res.data.token, res.data.name);\n      history.push('/');\n    }).catch(err => {\n      setIsLoadin(false);\n      console.log(err);\n    });\n  }, [history, login]); //Login user - post data to db\n\n  const onLoginHandler = useCallback(user => {\n    setIsLoadin(true);\n    axios.post('/users/login', user, {\n      'Content-Type': 'application/json'\n    }).then(res => {\n      setIsLoadin(false);\n      login(res.data.userId, res.data.token, res.data.name);\n      history.push('/');\n    }).catch(err => {\n      setIsLoadin(false);\n      console.log(err);\n    });\n  }, [history, login]);\n\n  const toggleAuth = () => {\n    setToggleState(prevState => !prevState);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-auth\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings\",\n        onClick: toggleAuth,\n        children: [/*#__PURE__*/_jsxDEV(FaRegArrowAltCircleLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: toggleState ? 'Ir a Login' : 'Ir al registro'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), toggleState ? /*#__PURE__*/_jsxDEV(Register, {\n        onRegisterHandler: onRegisterHandler,\n        isLoading: isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 24\n      }, this) : /*#__PURE__*/_jsxDEV(Login, {\n        onLoginHandler: onLoginHandler,\n        isLoading: isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Auth, \"jNlgRTPqKmvSxDxL3ZaEmSABvho=\", false, function () {\n  return [useHistory];\n});\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["/Users/davidgonzalez/Documents/GitHub/ReadyCar/frontend/src/User/pages/Auth.jsx"],"names":["React","useState","useCallback","useContext","useHistory","FaRegArrowAltCircleLeft","axios","Login","Register","AuthContext","Layout","Auth","toggleState","setToggleState","login","isLoading","setIsLoadin","history","onRegisterHandler","user","post","then","res","data","userId","token","name","push","catch","err","console","log","onLoginHandler","toggleAuth","prevState"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FaRegArrowAltCircleLeft } from 'react-icons/fa';\nimport axios from '../../axios';\n\nimport Login from '../components/Login';\nimport Register from '../components/Register';\nimport { AuthContext } from '../../shared/contexts/AuthContext';\nimport Layout from '../../shared/components/Layout/Layout';\n\nconst Auth = () => {\n\n    const [ toggleState, setToggleState ] = useState(false);\n    const { login } = useContext(AuthContext);\n    const [isLoading, setIsLoadin] = useState(false);\n    const history = useHistory()\n\n    //Register new user post new user data to db\n    const onRegisterHandler = useCallback((user) => {\n        setIsLoadin(true);\n        axios.post('/users/register', user, \n        {'Content-Type': 'application/json'})\n             .then(res => {\n                setIsLoadin(false);\n                login(res.data.userId, res.data.token, res.data.name);\n                history.push('/')\n             }).catch(err => {\n                setIsLoadin(false);\n                console.log(err);\n             });\n    }, [history, login]);\n\n    //Login user - post data to db\n    const onLoginHandler = useCallback((user) => {\n        setIsLoadin(true);\n        axios.post('/users/login', user, \n        {'Content-Type': 'application/json'})\n             .then(res => {\n                setIsLoadin(false);\n                login(res.data.userId, res.data.token, res.data.name);\n                history.push('/')\n             }).catch(err => {\n                setIsLoadin(false);\n                console.log(err);\n             });\n    }, [history, login]);\n   \n\n    const toggleAuth = () => {\n        setToggleState(prevState => !prevState)\n    }\n\n    return(\n        <Layout>\n            <div className='main-auth'>\n                <div className='settings' onClick={toggleAuth}>\n                <FaRegArrowAltCircleLeft /><span>{toggleState ?  'Ir a Login' : 'Ir al registro' }</span></div>\n                {\n                    toggleState \n                    ?  <Register onRegisterHandler={onRegisterHandler}\n                        isLoading={isLoading} /> \n                    :  <Login onLoginHandler={onLoginHandler}\n                        isLoading={isLoading}/>\n                }              \n            </div>\n        </Layout>\n    )\n}\n\nexport default Auth;"]},"metadata":{},"sourceType":"module"}